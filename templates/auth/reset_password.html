{% extends "base.html" %}

{% block title %}Reset Password - ExpiredDomain.dev{% endblock %}

{% block content %}
<div class="max-w-md mx-auto px-6 py-12">
    <div class="relative rounded-2xl bg-gradient-to-br from-night to-carbon border border-steel/50 p-8">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-frost mb-2">Yeni Şifre Belirle</h1>
            <p class="text-mist">Yeni şifrenizi belirleyin</p>
        </div>

        {% if success %}
        <!-- Success Message -->
        <div class="mb-6 p-4 rounded-xl bg-neon-green/10 border border-neon-green/30">
            <div class="flex items-center gap-3">
                <svg class="w-6 h-6 text-neon-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                <p class="text-neon-green font-medium">{{ message }}</p>
            </div>
        </div>
        <div class="text-center">
            <a href="/login" class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-neon-cyan to-neon-purple text-void font-semibold rounded-xl hover:opacity-90 transition-opacity">
                Giriş Yap
            </a>
        </div>
        {% elif token %}
        <!-- Reset Form -->
        <form method="POST" class="space-y-6">
            <input type="hidden" name="token" value="{{ token }}">

            {% if error %}
            <div class="p-4 rounded-xl bg-neon-pink/10 border border-neon-pink/30">
                <p class="text-neon-pink text-sm">{{ error }}</p>
            </div>
            {% endif %}

            <div>
                <label for="new_password" class="block text-sm font-medium text-mist mb-2">
                    Yeni Şifre
                </label>
                <input 
                    type="password" 
                    id="new_password" 
                    name="new_password" 
                    required
                    minlength="6"
                    class="w-full px-4 py-3 bg-void border border-steel rounded-xl text-frost focus:ring-2 focus:ring-neon-cyan focus:border-transparent transition-all"
                    placeholder="En az 6 karakter"
                >
            </div>

            <div>
                <label for="confirm_password" class="block text-sm font-medium text-mist mb-2">
                    Şifre Tekrar
                </label>
                <input 
                    type="password" 
                    id="confirm_password" 
                    name="confirm_password" 
                    required
                    minlength="6"
                    class="w-full px-4 py-3 bg-void border border-steel rounded-xl text-frost focus:ring-2 focus:ring-neon-cyan focus:border-transparent transition-all"
                    placeholder="Şifrenizi tekrar girin"
                >
            </div>

            <button 
                type="submit"
                class="w-full px-6 py-3 bg-gradient-to-r from-neon-cyan to-neon-purple text-void font-semibold rounded-xl hover:opacity-90 transition-opacity"
            >
                Şifreyi Sıfırla
            </button>
        </form>
        {% else %}
        <!-- Error State -->
        <div class="mb-6 p-4 rounded-xl bg-neon-pink/10 border border-neon-pink/30">
            <p class="text-neon-pink">{{ error or "Geçersiz veya eksik token" }}</p>
        </div>
        <div class="text-center">
            <a href="/auth/forgot-password" class="text-sm text-neon-cyan hover:text-neon-purple transition-colors">
                Yeni şifre sıfırlama bağlantısı iste
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}


